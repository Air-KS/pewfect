{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState } from 'vuex';\nexport default {\n  name: 'Header',\n  data() {\n    return {\n      dropdownOpen: false,\n      isMenuOpen: false\n    };\n  },\n  computed: {\n    ...mapState(['isLoggedIn', 'user']),\n    isAdminOrResponsable() {\n      return this.user && (this.user.role === 'admin' || this.user.role === 'responsable');\n    }\n  },\n  methods: {\n    toggleDropdown() {\n      this.dropdownOpen = !this.dropdownOpen;\n    },\n    closeDropdown() {\n      this.dropdownOpen = false;\n    },\n    handleClickOutside(event) {\n      if (this.$refs.profile && !this.$refs.profile.contains(event.target)) {\n        this.closeDropdown();\n      }\n      if (this.$refs.menu && !this.$refs.menu.contains(event.target)) {\n        this.closeMenu();\n      }\n    },\n    closeMenu() {\n      this.isMenuOpen = false;\n    },\n    logout() {\n      this.$store.dispatch('logout');\n      this.$router.push('/');\n    },\n    toggleMenu() {\n      this.isMenuOpen = !this.isMenuOpen;\n    },\n    handleResize() {\n      if (window.innerWidth > 768) {\n        this.isMenuOpen = false;\n      }\n    }\n  },\n  mounted() {\n    document.addEventListener('click', this.handleClickOutside);\n    window.addEventListener('resize', this.handleResize);\n  },\n  beforeUnmount() {\n    document.removeEventListener('click', this.handleClickOutside);\n    window.removeEventListener('resize', this.handleResize);\n  }\n};","map":{"version":3,"names":["mapState","name","data","dropdownOpen","isMenuOpen","computed","isAdminOrResponsable","user","role","methods","toggleDropdown","closeDropdown","handleClickOutside","event","$refs","profile","contains","target","menu","closeMenu","logout","$store","dispatch","$router","push","toggleMenu","handleResize","window","innerWidth","mounted","document","addEventListener","beforeUnmount","removeEventListener"],"sources":["/home/zana/pewfect-1/frontend/src/components/header.vue"],"sourcesContent":["<!--\n\t./frontend/src/components/Header.vue\n-->\n\n<template>\n\t<header class=\"header\">\n\t\t<div class=\"container\">\n\t\t\t<!-- Section logo -->\n\t\t\t<div class=\"logo\">\n\t\t\t\t<router-link to=\"/\">\n\t\t\t\t\t<img src=\"@/assets/images/logo.png\" alt=\"Logo\" />\n\t\t\t\t</router-link>\n\t\t\t</div>\n\t\t\t<!-- Menu de navigation -->\n\t\t\t<nav>\n\t\t\t\t<ul class=\"nav-menu\" :class=\"{ open: isMenuOpen }\">\n\t\t\t\t\t<li class=\"nav-menu-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-menu-link\">Prices & Services</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-menu-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-menu-link\">Location</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-menu-item\" v-if=\"isAdminOrResponsable\">\n\t\t\t\t\t\t<router-link to=\"/admin\" class=\"nav-menu-link apply\">\n\t\t\t\t\t\t\tDashboard\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-menu-item\" v-else>\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-menu-link apply\">Book Now</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t\t<!-- Section des boutons -->\n\t\t\t<div class=\"auth-section\">\n\t\t\t\t<div v-if=\"!isLoggedIn\">\n\t\t\t\t\t<router-link to=\"/login\" class=\"login-button\">Login</router-link>\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"profile\" @click=\"toggleDropdown\" ref=\"profile\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"@/assets/images/profile-circle.svg\"\n\t\t\t\t\t\talt=\"Profile\"\n\t\t\t\t\t\tclass=\"profile-icon\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"dropdown-menu\" v-if=\"dropdownOpen\">\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\tv-if=\"user && user.id\"\n\t\t\t\t\t\t\t:to=\"{ name: 'Profile', params: { id: user.id } }\"\n\t\t\t\t\t\t\tclass=\"dropdown-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src=\"@/assets/images/user-profile.svg\" alt=\"Profile\" />\n\t\t\t\t\t\t\tProfile\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc=\"@/assets/images/arrow-r-grey.png\"\n\t\t\t\t\t\t\t\talt=\"Arrow Icon\"\n\t\t\t\t\t\t\t\tclass=\"menu-arrow-icon\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t<div class=\"dropdown-divider\"></div>\n\t\t\t\t\t\t<a href=\"#\" class=\"dropdown-item\" @click=\"logout\">\n\t\t\t\t\t\t\t<img src=\"@/assets/images/user-disconnected.svg\" alt=\"Logout\" />\n\t\t\t\t\t\t\tLog Out\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc=\"@/assets/images/arrow-r-grey.png\"\n\t\t\t\t\t\t\t\talt=\"Arrow Icon\"\n\t\t\t\t\t\t\t\tclass=\"menu-arrow-icon\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Bouton de menu pour mobiles -->\n\t\t\t<button\n\t\t\t\tclass=\"menu-toggle\"\n\t\t\t\t@click=\"toggleMenu\"\n\t\t\t\t:class=\"{ active: isMenuOpen }\"\n\t\t\t\taria-label=\"Toggle menu\"\n\t\t\t\ttitle=\"Toggle menu\"\n\t\t\t\tref=\"menu\"\n\t\t\t>\n\t\t\t\t<span class=\"menu-toggle-bar top-bar\"></span>\n\t\t\t\t<span class=\"menu-toggle-bar middle-bar\"></span>\n\t\t\t\t<span class=\"menu-toggle-bar bottom-bar\"></span>\n\t\t\t</button>\n\t\t</div>\n\t</header>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nexport default {\n\tname: 'Header',\n\tdata() {\n\t\treturn {\n\t\t\tdropdownOpen: false,\n\t\t\tisMenuOpen: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState(['isLoggedIn', 'user']),\n\t\tisAdminOrResponsable() {\n\t\t\treturn (\n\t\t\t\tthis.user &&\n\t\t\t\t(this.user.role === 'admin' || this.user.role === 'responsable')\n\t\t\t);\n\t\t},\n\t},\n\tmethods: {\n\t\ttoggleDropdown() {\n\t\t\tthis.dropdownOpen = !this.dropdownOpen;\n\t\t},\n\t\tcloseDropdown() {\n\t\t\tthis.dropdownOpen = false;\n\t\t},\n\t\thandleClickOutside(event) {\n\t\t\tif (this.$refs.profile && !this.$refs.profile.contains(event.target)) {\n\t\t\t\tthis.closeDropdown();\n\t\t\t}\n\t\t\tif (this.$refs.menu && !this.$refs.menu.contains(event.target)) {\n\t\t\t\tthis.closeMenu();\n\t\t\t}\n\t\t},\n\t\tcloseMenu() {\n\t\t\tthis.isMenuOpen = false;\n\t\t},\n\t\tlogout() {\n\t\t\tthis.$store.dispatch('logout');\n\t\t\tthis.$router.push('/');\n\t\t},\n\t\ttoggleMenu() {\n\t\t\tthis.isMenuOpen = !this.isMenuOpen;\n\t\t},\n\n\t\thandleResize() {\n\t\t\tif (window.innerWidth > 768) {\n\t\t\t\tthis.isMenuOpen = false;\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tdocument.addEventListener('click', this.handleClickOutside);\n\t\twindow.addEventListener('resize', this.handleResize);\n\t},\n\tbeforeUnmount() {\n\t\tdocument.removeEventListener('click', this.handleClickOutside);\n\t\twindow.removeEventListener('resize', this.handleResize);\n\t},\n};\n</script>\n\n<style scoped>\n/* Style de l'en-tête */\n.header {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\tbackground-color: var(--color-background);\n\tborder-bottom: 1px solid #ccc;\n\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\tpadding: 0;\n\tz-index: 1000;\n}\n\n/* Container principal */\n.container {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmax-width: 1200px;\n\theight: 70px;\n\tmargin: 0 auto;\n\tpadding: 0 20px;\n\tposition: relative;\n}\n\n/* Style du logo */\n.logo img {\n\theight: 40px;\n}\n\n/* Menu de navigation */\n.nav-menu {\n\tdisplay: flex;\n\talign-items: center;\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.nav-menu .nav-menu-item:not(:last-child) {\n\tborder-right: 3px solid #ccc; /* Séparateur entre les éléments */\n}\n\n.nav-menu.open {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: absolute;\n\ttop: 70px;\n\tleft: 0;\n\twidth: 100%;\n\tbackground-color: var(--color-background);\n\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.nav-menu-item {\n\tfont-family: var(--nav-item-font-family);\n\tfont-weight: var(--nav-item-font-weight);\n\tfont-size: 1.1rem;\n\tpadding: 0 20px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.nav-menu-link {\n\tdisplay: block;\n\tpadding: 0.5rem 0;\n\tposition: relative;\n\tcolor: var(--color-text-dark);\n\ttext-decoration: none;\n}\n\n.nav-menu-link:hover {\n\tcolor: var(--nav-color-hover);\n\ttext-decoration: none;\n}\n\n.nav-menu-link::before {\n\tcontent: '';\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\twidth: 0;\n\theight: 0.2rem;\n\ttransition: var(--transition-duration) var(--transition-cubic-bezier);\n}\n\n.nav-menu-item:hover .nav-menu-link::before {\n\tbackground-color: var(--nav-color-link);\n\twidth: 100%;\n}\n\n.nav-menu-link.apply {\n\tcolor: red;\n}\n\n.nav-menu-link.apply:hover {\n\tcolor: var(--nav-color-hover);\n}\n\n.nav-menu-link.apply::before {\n\tbackground-color: var(--nav-color-link);\n}\n\n.auth-section {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n/* Profil avec menu déroulant */\n.profile {\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n}\n\n.profile-icon {\n\theight: 60px;\n\tmargin-right: 10px;\n}\n\n.dropdown-menu {\n\tposition: absolute;\n\ttop: 100%;\n\tbackground-color: var(--color-background);\n\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\tborder-radius: 5px;\n\toverflow: hidden;\n\tz-index: 1000;\n\twidth: 150px;\n}\n\n.dropdown-item {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 10px;\n\tcolor: var(--color-text-dark);\n\ttext-decoration: none;\n}\n\n.dropdown-item:hover {\n\tbackground-color: var(--menu-color-hover);\n}\n\n.dropdown-item img {\n\tmargin-right: 10px;\n\theight: 30px;\n}\n\n.menu-arrow-icon {\n\tmargin-left: auto;\n\theight: 20px !important;\n\twidth: 15px;\n}\n\n.dropdown-divider {\n\theight: 1px;\n\tbackground-color: #4687af;\n\tmargin: 0 10px;\n}\n\n.header .login-button {\n\tdisplay: inline-block;\n\tpadding: 10px 20px;\n\tborder: 2px solid var(--color-button);\n\tborder-radius: 25px;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tcolor: var(--color-text-dark);\n\ttext-align: center;\n\ttext-decoration: none;\n\ttransition: background-color 0.3s, color 0.3s;\n\tfont-size: 1.5rem;\n}\n\n.header .login-button:hover {\n\tbackground-color: var(--menu-color-hover);\n\tborder: 2px solid #4687af;\n\tcolor: #4687af;\n}\n\n/* Bouton de menu pour mobiles */\n.menu-toggle {\n\tdisplay: none;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 10px;\n\ttransform: translateY(-50%);\n\tz-index: 100;\n\tbackground: none;\n\tborder: none;\n\tcursor: pointer;\n}\n\n.menu-toggle-bar {\n\tdisplay: block;\n\twidth: 35px;\n\theight: 5px;\n\tmargin: 6px 0;\n\tborder-radius: 10px;\n\tbackground-color: #4687af;\n\tbox-shadow: 0 2px 2px rgba(0, 0, 0, 0.5);\n\ttransition: 0.4s;\n}\n\n.menu-toggle.active .top-bar {\n\ttransform: translateY(11px) rotate(45deg);\n}\n\n.menu-toggle.active .middle-bar {\n\topacity: 0;\n}\n\n.menu-toggle.active .bottom-bar {\n\ttransform: translateY(-11px) rotate(-45deg);\n}\n\n@media (max-width: 768px) {\n\t.nav-menu {\n\t\tdisplay: none;\n\t\tflex-direction: column;\n\t}\n\n\t.nav-menu .nav-menu-item:not(:last-child) {\n\t\tborder-color: transparent; /* Séparateur entre les éléments */\n\t}\n\n\t.nav-menu.open {\n\t\tdisplay: flex;\n\t}\n\n\t.menu-toggle {\n\t\tdisplay: block;\n\t}\n\n\t.logo {\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t}\n\n\t.container {\n\t\tjustify-content: space-between;\n\t}\n\n\t.auth-section {\n\t\tmargin-top: 0;\n\t}\n\n\t.header .login-button {\n\t\tfont-size: 1.2rem;\n\t\tpadding: 8px 16px;\n\t}\n}\n</style>\n"],"mappings":";AAyFA,SAASA,QAAO,QAAS,MAAM;AAE/B,eAAe;EACdC,IAAI,EAAE,QAAQ;EACdC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,YAAY,EAAE,KAAK;MACnBC,UAAU,EAAE;IACb,CAAC;EACF,CAAC;EACDC,QAAQ,EAAE;IACT,GAAGL,QAAQ,CAAC,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IACnCM,oBAAoBA,CAAA,EAAG;MACtB,OACC,IAAI,CAACC,IAAG,KACP,IAAI,CAACA,IAAI,CAACC,IAAG,KAAM,OAAM,IAAK,IAAI,CAACD,IAAI,CAACC,IAAG,KAAM,aAAa;IAEjE;EACD,CAAC;EACDC,OAAO,EAAE;IACRC,cAAcA,CAAA,EAAG;MAChB,IAAI,CAACP,YAAW,GAAI,CAAC,IAAI,CAACA,YAAY;IACvC,CAAC;IACDQ,aAAaA,CAAA,EAAG;MACf,IAAI,CAACR,YAAW,GAAI,KAAK;IAC1B,CAAC;IACDS,kBAAkBA,CAACC,KAAK,EAAE;MACzB,IAAI,IAAI,CAACC,KAAK,CAACC,OAAM,IAAK,CAAC,IAAI,CAACD,KAAK,CAACC,OAAO,CAACC,QAAQ,CAACH,KAAK,CAACI,MAAM,CAAC,EAAE;QACrE,IAAI,CAACN,aAAa,CAAC,CAAC;MACrB;MACA,IAAI,IAAI,CAACG,KAAK,CAACI,IAAG,IAAK,CAAC,IAAI,CAACJ,KAAK,CAACI,IAAI,CAACF,QAAQ,CAACH,KAAK,CAACI,MAAM,CAAC,EAAE;QAC/D,IAAI,CAACE,SAAS,CAAC,CAAC;MACjB;IACD,CAAC;IACDA,SAASA,CAAA,EAAG;MACX,IAAI,CAACf,UAAS,GAAI,KAAK;IACxB,CAAC;IACDgB,MAAMA,CAAA,EAAG;MACR,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,QAAQ,CAAC;MAC9B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IACvB,CAAC;IACDC,UAAUA,CAAA,EAAG;MACZ,IAAI,CAACrB,UAAS,GAAI,CAAC,IAAI,CAACA,UAAU;IACnC,CAAC;IAEDsB,YAAYA,CAAA,EAAG;MACd,IAAIC,MAAM,CAACC,UAAS,GAAI,GAAG,EAAE;QAC5B,IAAI,CAACxB,UAAS,GAAI,KAAK;MACxB;IACD;EACD,CAAC;EACDyB,OAAOA,CAAA,EAAG;IACTC,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACnB,kBAAkB,CAAC;IAC3De,MAAM,CAACI,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACL,YAAY,CAAC;EACrD,CAAC;EACDM,aAAaA,CAAA,EAAG;IACfF,QAAQ,CAACG,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAACrB,kBAAkB,CAAC;IAC9De,MAAM,CAACM,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACP,YAAY,CAAC;EACxD;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}