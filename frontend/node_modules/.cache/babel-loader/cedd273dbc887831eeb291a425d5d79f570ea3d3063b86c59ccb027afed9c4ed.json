{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'ProfilePage',\n  data() {\n    return {\n      user: {\n        first_name: '',\n        last_name: '',\n        date_of_birth: '',\n        email: '',\n        phone: '',\n        address_one: '',\n        address_two: '',\n        zip_code: '',\n        city: '',\n        country: ''\n      }\n    };\n  },\n  created() {\n    this.fetchUserProfile();\n  },\n  methods: {\n    async fetchUserProfile() {\n      const userId = this.$route.params.id;\n      try {\n        const response = await axios.get(`http://localhost:3000/api/users/${userId}`);\n        console.log('API response:', response.data);\n        this.user = response.data;\n      } catch (error) {\n        console.error('Erreur lors de la récupération du profil utilisateur:', error);\n      }\n    },\n    async updateProfile() {\n      const userId = this.$route.params.id;\n      try {\n        const response = await axios.put(`http://localhost:3000/api/users/${userId}`, this.user);\n        alert('Profil mis à jour avec succès');\n      } catch (error) {\n        console.error('Erreur lors de la mise à jour du profil utilisateur:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","user","first_name","last_name","date_of_birth","email","phone","address_one","address_two","zip_code","city","country","created","fetchUserProfile","methods","userId","$route","params","id","response","get","console","log","error","updateProfile","put","alert"],"sources":["/home/zana/pewfect-1/frontend/src/views/profilePage.vue"],"sourcesContent":["<!--\n\t./frontend/src/views/profilePage.vue\n-->\n\n <template>\n\t<div class=\"profile-container\">\n\t\t<h1>Profile de {{ user.first_name }} {{ user.last_name }}</h1>\n\t\t<form @submit.prevent=\"updateProfile\">\n\t\t\t<div>\n\t\t\t\t<label for=\"first_name\">Firstname:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"first_name\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tv-model=\"user.first_name\"\n\t\t\t\t\ttitle=\"Entrez votre prénom\"\n\t\t\t\t\tplaceholder=\"Jérôme Example\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"last_name\">Lastname:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"last_name\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tv-model=\"user.last_name\"\n\t\t\t\t\ttitle=\"Entrez votre nom\"\n\t\t\t\t\tplaceholder=\"Bernard Example\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"date_of_birth\">Date of Birth:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"date_of_birth\"\n\t\t\t\t\ttype=\"date\"\n\t\t\t\t\tv-model=\"user.date_of_birth\"\n\t\t\t\t\ttitle=\"Entrez votre date de naissance\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"email\">Email:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"email\"\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tv-model=\"user.email\"\n\t\t\t\t\trequired\n\t\t\t\t\ttitle=\"Entrez votre adresse email\"\n\t\t\t\t\tplaceholder=\"example@mail.com\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"phone\">Phone:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"phone\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tv-model=\"user.phone\"\n\t\t\t\t\ttitle=\"Entrez votre numéro de téléphone\"\n\t\t\t\t\tplaceholder=\"0607080910\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"address_one\">Address:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"address_one\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tv-model=\"user.address_one\"\n\t\t\t\t\ttitle=\"Entrez votre adresse\"\n\t\t\t\t\tplaceholder=\"123 Rue Example\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"address_two\">Secondary address:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"address_two\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tv-model=\"user.address_two\"\n\t\t\t\t\ttitle=\"Entrez votre adresse secondaire (si applicable)\"\n\t\t\t\t\tplaceholder=\"Appartment 4B\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"zip_code\">Zip code:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"zip_code\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tv-model=\"user.zip_code\"\n\t\t\t\t\ttitle=\"Entrez votre code postal\"\n\t\t\t\t\tplaceholder=\"75001\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"city\">City:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"city\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tv-model=\"user.city\"\n\t\t\t\t\ttitle=\"Entrez votre ville\"\n\t\t\t\t\tplaceholder=\"Paris\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"country\">Country:</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"country\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tv-model=\"user.country\"\n\t\t\t\t\ttitle=\"Entrez votre pays\"\n\t\t\t\t\tplaceholder=\"France\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<button type=\"submit\">Save</button>\n\t\t</form>\n\t</div>\n</template>\n\n\n<script>\nimport axios from 'axios';\n\nexport default {\n\tname: 'ProfilePage',\n\tdata() {\n\t\treturn {\n\t\t\tuser: {\n\t\t\t\tfirst_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tdate_of_birth: '',\n\t\t\t\temail: '',\n\t\t\t\tphone: '',\n\t\t\t\taddress_one: '',\n\t\t\t\taddress_two: '',\n\t\t\t\tzip_code: '',\n\t\t\t\tcity: '',\n\t\t\t\tcountry: '',\n\t\t\t},\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.fetchUserProfile();\n\t},\n\tmethods: {\n\t\tasync fetchUserProfile() {\n\t\t\tconst userId = this.$route.params.id;\n\t\t\ttry {\n\t\t\t\tconst response = await axios.get(\n\t\t\t\t\t`http://localhost:3000/api/users/${userId}`\n\t\t\t\t);\n\t\t\t\tconsole.log('API response:', response.data);\n\t\t\t\tthis.user = response.data;\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Erreur lors de la récupération du profil utilisateur:',\n\t\t\t\t\terror\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tasync updateProfile() {\n\t\t\tconst userId = this.$route.params.id;\n\t\t\ttry {\n\t\t\t\tconst response = await axios.put(\n\t\t\t\t\t`http://localhost:3000/api/users/${userId}`,\n\t\t\t\t\tthis.user\n\t\t\t\t);\n\t\t\t\talert('Profil mis à jour avec succès');\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Erreur lors de la mise à jour du profil utilisateur:',\n\t\t\t\t\terror\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.profile-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 20px;\n}\n\nform {\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\tmax-width: 400px;\n}\n\nform div {\n\tmargin-bottom: 10px;\n}\n\nlabel {\n\tmargin-bottom: 5px;\n}\n\ninput {\n\tpadding: 8px;\n\tfont-size: 16px;\n\tborder-radius: 4px;\n\tborder: 1px solid #ccc;\n}\n\nbutton {\n\tpadding: 10px;\n\tfont-size: 16px;\n\tbackground-color: #007bff;\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\tcursor: pointer;\n}\n\nbutton:hover {\n\tbackground-color: #0056b3;\n}\n</style>\n"],"mappings":"AAmHA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACdC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,IAAI,EAAE;QACLC,UAAU,EAAE,EAAE;QACdC,SAAS,EAAE,EAAE;QACbC,aAAa,EAAE,EAAE;QACjBC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,WAAW,EAAE,EAAE;QACfC,QAAQ,EAAE,EAAE;QACZC,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE;MACV;IACD,CAAC;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACC,gBAAgB,CAAC,CAAC;EACxB,CAAC;EACDC,OAAO,EAAE;IACR,MAAMD,gBAAgBA,CAAA,EAAG;MACxB,MAAME,MAAK,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE;MACpC,IAAI;QACH,MAAMC,QAAO,GAAI,MAAMrB,KAAK,CAACsB,GAAG,CAC/B,mCAAmCL,MAAM,EAC1C,CAAC;QACDM,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEH,QAAQ,CAACnB,IAAI,CAAC;QAC3C,IAAI,CAACC,IAAG,GAAIkB,QAAQ,CAACnB,IAAI;MAC1B,EAAE,OAAOuB,KAAK,EAAE;QACfF,OAAO,CAACE,KAAK,CACZ,uDAAuD,EACvDA,KACD,CAAC;MACF;IACD,CAAC;IACD,MAAMC,aAAaA,CAAA,EAAG;MACrB,MAAMT,MAAK,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE;MACpC,IAAI;QACH,MAAMC,QAAO,GAAI,MAAMrB,KAAK,CAAC2B,GAAG,CAC/B,mCAAmCV,MAAM,EAAE,EAC3C,IAAI,CAACd,IACN,CAAC;QACDyB,KAAK,CAAC,+BAA+B,CAAC;MACvC,EAAE,OAAOH,KAAK,EAAE;QACfF,OAAO,CAACE,KAAK,CACZ,sDAAsD,EACtDA,KACD,CAAC;MACF;IACD;EACD;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}