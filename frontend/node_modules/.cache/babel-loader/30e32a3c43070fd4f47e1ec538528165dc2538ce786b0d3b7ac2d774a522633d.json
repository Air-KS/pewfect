{"ast":null,"code":"export default {\n  // // Props reçues\n  props: {\n    title: String,\n    // Titre de la table\n    users: Array,\n    // Liste des utilisateurs\n    role: String,\n    // Rôle des utilisateurs\n    userRole: String // Rôle de l'utilisateur connecté\n  },\n  methods: {\n    // Promouvoir utilisateur (client -> responsable)\n    promoteToResponsable(userId) {\n      this.$emit('change-role', userId, 'responsable');\n    },\n    // Retrograder utilisateur (respondable -> client)\n    demoteToClient(userId) {\n      this.$emit('change-role', userId, 'client');\n    },\n    // Suprimer un utilisateur\n    deleteUser(userId) {\n      this.$emit('delete-user', userId);\n    }\n  }\n};","map":{"version":3,"names":["props","title","String","users","Array","role","userRole","methods","promoteToResponsable","userId","$emit","demoteToClient","deleteUser"],"sources":["/home/zana/pewfect-1/frontend/src/components/userTable.vue"],"sourcesContent":["<!--\n\t./frontend/src/component/userTable.vue\n-->\n\n<template>\n\t<div>\n\t\t<!-- Titre de la table -->\n\t\t<h2>{{ title }}</h2>\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Profil</th>\n\t\t\t\t\t<th>Last name</th>\n\t\t\t\t\t<th>First name</th>\n\t\t\t\t\t<th>Date of Birth</th>\n\t\t\t\t\t<th>Email</th>\n\t\t\t\t\t<th v-if=\"role !== 'admin'\">Phone</th>\n\t\t\t\t\t<th v-if=\"role !== 'admin'\">Address</th>\n\t\t\t\t\t<th>Zip code</th>\n\t\t\t\t\t<th>City</th>\n\t\t\t\t\t<th>Country</th>\n\t\t\t\t\t<th>Actions</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<!-- Afficher chaque utilisateur -->\n\t\t\t\t<tr v-for=\"user in users\" :key=\"user.id\">\n\t\t\t\t\t<td align=\"center\">\n\t\t\t\t\t\t<!-- Icône de profile cliquable -->\n\t\t\t\t\t\t<router-link :to=\"{ name: 'Profile', params: { id: user.id } }\">\n\t\t\t\t\t\t\t<i class=\"fas fa-user profile-icon\"></i>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>{{ user.last_name }}</td>\n\t\t\t\t\t<td>{{ user.first_name }}</td>\n\t\t\t\t\t<td>{{ user.date_of_birth }}</td>\n\t\t\t\t\t<td>{{ user.email }}</td>\n\t\t\t\t\t<td v-if=\"role !== 'admin'\">{{ user.phone }}</td>\n\t\t\t\t\t<td v-if=\"role !== 'admin'\">{{ user.adress }}</td>\n\t\t\t\t\t<td>{{ user.zip_code }}</td>\n\t\t\t\t\t<td>{{ user.city }}</td>\n\t\t\t\t\t<td>{{ user.country }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<!-- Actions pour le rôle 'admin -->\n\t\t\t\t\t\t<div v-if=\"userRole === 'admin'\">\n\t\t\t\t\t\t\t<!-- Actions pour 'responsable' (sauf emails protégés) -->\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\t\t\trole === 'responsable' &&\n\t\t\t\t\t\t\t\t\t!['jerome@gmail.com', 'kevin@gmail.com'].includes(user.email)\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button @click=\"demoteToClient(user.id)\">Client</button>\n\t\t\t\t\t\t\t\t<button @click=\"deleteUser(user.id)\">Delete</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Actions pour 'client' -->\n\t\t\t\t\t\t\t<div v-else-if=\"role === 'client'\">\n\t\t\t\t\t\t\t\t<button @click=\"promoteToResponsable(user.id)\">\n\t\t\t\t\t\t\t\t\tResponsable\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button @click=\"deleteUser(user.id)\">Delete</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Actions pour'responsable' -->\n\t\t\t\t\t\t<div v-else-if=\"userRole === 'responsable' && role === 'client'\">\n\t\t\t\t\t\t\t<button @click=\"deleteUser(user.id)\">Delete</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</template>\n\n<script>\nexport default {\n\t// // Props reçues\n\tprops: {\n\t\ttitle: String, // Titre de la table\n\t\tusers: Array, // Liste des utilisateurs\n\t\trole: String, // Rôle des utilisateurs\n\t\tuserRole: String, // Rôle de l'utilisateur connecté\n\t},\n\tmethods: {\n\t\t// Promouvoir utilisateur (client -> responsable)\n\t\tpromoteToResponsable(userId) {\n\t\t\tthis.$emit('change-role', userId, 'responsable');\n\t\t},\n\t\t// Retrograder utilisateur (respondable -> client)\n\t\tdemoteToClient(userId) {\n\t\t\tthis.$emit('change-role', userId, 'client');\n\t\t},\n\t\t// Suprimer un utilisateur\n\t\tdeleteUser(userId) {\n\t\t\tthis.$emit('delete-user', userId);\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n@import '@fortawesome/fontawesome-free/css/all.css'; /* Import FontAwesome */\n\ntable {\n\t/* Styles pour la table */\n\tborder-collapse: collapse;\n\twidth: 100%;\n\tmargin-bottom: 20px;\n}\n\n/* Styles pour les cellules */\nth,\ntd {\n\tborder: 1px solid var(--color-border);\n\tpadding: 8px;\n}\n\n/* Style pour les en-têtes de colonne */\nth {\n\tbackground-color: #f2f2f2;\n\ttext-align: center;\n}\n\n/* Style pour les lignes paires */\ntr:nth-child(even) {\n\tbackground-color: #f9f9f9;\n}\n\n/* Style pour les lignes au survol */\ntr:hover {\n\tbackground-color: var(--menu-color-hover);\n}\n\n.profile-icon {\n\tcolor: #4687af;\n}\n</style>\n"],"mappings":"AA8EA,eAAe;EACd;EACAA,KAAK,EAAE;IACNC,KAAK,EAAEC,MAAM;IAAE;IACfC,KAAK,EAAEC,KAAK;IAAE;IACdC,IAAI,EAAEH,MAAM;IAAE;IACdI,QAAQ,EAAEJ,MAAM,CAAE;EACnB,CAAC;EACDK,OAAO,EAAE;IACR;IACAC,oBAAoBA,CAACC,MAAM,EAAE;MAC5B,IAAI,CAACC,KAAK,CAAC,aAAa,EAAED,MAAM,EAAE,aAAa,CAAC;IACjD,CAAC;IACD;IACAE,cAAcA,CAACF,MAAM,EAAE;MACtB,IAAI,CAACC,KAAK,CAAC,aAAa,EAAED,MAAM,EAAE,QAAQ,CAAC;IAC5C,CAAC;IACD;IACAG,UAAUA,CAACH,MAAM,EAAE;MAClB,IAAI,CAACC,KAAK,CAAC,aAAa,EAAED,MAAM,CAAC;IAClC;EACD;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}